//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
const logger = require('../../config/logger');
const config = require('../../init_config');
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
async function getUsers() {
    try {
        let result = await client.query(`select * from public.users`);
        return result.rows;
    } catch (e) {
        throw new Error(`db: getUsers. ${JSON.stringify({ "error": e, "stack": e.stack })}`);
    }
}
async function getUser(joined,last_logged_in) {
    try {
        let result = await client.query(`select * from public.users where joined>=($1) and last_logged_in<=($2)`, [joined,last_logged_in]);
        return result.rows;
    } catch (e) {
        throw new Error(`db: getUsers. ${JSON.stringify({ "error": e, "stack": e.stack })}`);
    }
}
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
module.exports = {
    getUsers,
    getUser
}
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////